{
  "author": {
    "name": "Luc Castera",
    "email": "luc.castera@gmail.com",
    "url": "https://github.com/dambalah"
  },
  "name": "mongoose-nested-set",
  "description": "A mongoose plugin implementing the nested set pattern (aka as trees or hierarchies) for mongoose models",
  "homepage": "https://github.com/groupdock/mongoose-nested-set",
  "keywords": [
    "mongoose",
    "mongodb",
    "nested set",
    "nested-set",
    "nested set pattern"
  ],
  "version": "0.0.5",
  "repository": {
    "type": "git",
    "url": "git://github.com/groupdock/mongoose-nested-set.git"
  },
  "main": "index.js",
  "scripts": {
    "test": "./node_modules/nodeunit/bin/nodeunit tests/nested_set_test.js"
  },
  "engines": {
    "node": "< 0.7.x"
  },
  "dependencies": {
    "mongoose": "~2.5.14",
    "async": "~0.1.22"
  },
  "devDependencies": {
    "nodeunit": "~0.7.4"
  },
  "readme": "# mongoose-nested-set\n\nA mongoose plugin implementing the nested set pattern for mongoose models\n\n### Usage\n\n```javascript\nvar mongoose = require('mongoose'),\n    NestedSetPlugin = require('mongoose-nested-set'),\n    Schema = mongoose.Schema;\n    \nmongoose.connect('mongodb://localhost/nested_set_test');\n\nvar UserSchema = new Schema({\n  username: {type: String}\n});\n\n// Include plugin\nUserSchema.plugin(NestedSetPlugin);\n\nvar User = mongoose.model('User', UserSchema);\n```\n\n### Attributes\n\nThe plugin adds the following attributes to the model:\n\n* lft: holds the left value of the node in the tree\n\n* rgt: holds the right value of the node in the tree\n\n* parentId: holds the _id of the parent node\n\n### Examples\n\nExamples are based on the following tree:\n\n![The Office](https://github.com/groupdock/mongoose-nested-set/raw/master/docs/test_tree.png \"The Office\")\n\n```javascript\nUser.findOne({username: 'michael'}, function(err, michael) {\n  User.rebuildTree(michael, 1, function() {\n    // at this point, the tree is built and every node has a lft and rgt value.\n    michael.descendants(function(err, data) {\n      // data contains a list of michael descendants\n      console.log(data);\n    });\n    console.log('Is Michael a leaf node?', michael.isLeaf());\n    console.log('Is Michael a child node?', michael.isChild());\n  });\n});\n```\n\nFor more examples, see our [test suite] (https://github.com/groupdock/mongoose-nested-set/blob/master/tests/nested_set_test.js).\n\n### API\n\n### Static methods\n\n* Model.rebuildTree(rootNode, leftValueOfRootNode, callback)\n\n#### Instance methods that return values:\n\nThe following methods return a boolean:\n\n* isLeaf()\n\n* isChild()\n\n* isDescendantOf(otherNode)\n\n* isAncestorOf(otherNode)\n\n\n#### Instance methods that use a callback function:\n\nThe following methods must be used with a callback. The callback method will be called with two arguments: the first argument is the error object (if there was no error, it will be null) and the second argument is the data returned.\n\n* selfAndAncestors(callback)\n\n* ancestors(callback)\n\n* selfAndChildren(callback)\n\n* children(callback)\n\n* selfAndDescendants(callback)\n\n* descendants(callback)\n\n* level(callback)\n\n* selfAndSiblings(callback)\n\n* siblings(callback)\n\n\n### Related Links/Resources\n\n* Inspired by [Rails nested_set library] (https://github.com/skyeagle/nested_set)\n* [Mongoose Documentation] (http://mongoosejs.com/)\n* [Mongoose Plugins] (http://mongoosejs.com/docs/plugins.html)\n* [Tree used in test and examples] (https://github.com/groupdock/mongoose-nested-set/raw/master/docs/test_tree.png)\n* [Nested Set Model] (http://en.wikipedia.org/wiki/Nested_set_model)\n* [Storing Hierarchical Data in a Database Article] (http://www.sitepoint.com/hierarchical-data-database/)\n* [Trees in MongoDB] (http://www.mongodb.org/display/DOCS/Trees+in+MongoDB)\n\n### Development\n\nTo run the tests:\n\n```\nnpm test\n```\n\n\n### Changelog\n\n### Jun 30, 2013: Version 0.0.5\n\n* Added compound index on lft,rgt for selfAndDescendants and\n  selfAndAncestors queries\n* A few small refactorings of tests\n\n#### Oct 26, 2012: Version 0.0.4\n\n* Bug fixes\n\n#### Oct 25, 2012: Version 0.0.3\n\n* Bug fixes\n\n#### Oct 25, 2012: Version 0.0.2\n\n* Better tests\n* Code cleanup\n* Updated package.json to latest dependencies\n* Added mongodb indexes on lft, rgt, and parentId\n\n### Authors\n\n* Luc Castera: [https://github.com/dambalah](https://github.com/dambalah)\n\n### Sponsor\n\n[Intellum] (http://www.intellum.com/)\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/groupdock/mongoose-nested-set/issues"
  },
  "_id": "mongoose-nested-set@0.0.5",
  "_from": "mongoose-nested-set@*"
}
